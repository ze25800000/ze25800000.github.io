<!doctype html>
<html lang="en">
    <head>
		
        <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <link rel="shortcut icon" href="http://p0mvyl5ro.bkt.clouddn.com/timg%20%281%29.gif"/>
        <link rel="canonical" href="http://guolinn.com/">
        <link rel="alternate" type="application/rss+xml" title="Zia Yang" href="">
        <title>typescript学习笔记 | 超频散热</title>
        <meta name="description" content="{{meta_description}}">

        <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/styles/crisp.css">
        <meta name="HandheldFriendly" content="True" />
        <meta name="MobileOptimized" content="320" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

    </head>
    
		<body class="post-template">
	

        <header id="header">
            <a id="logo" href="/"><img src="http://p0mvyl5ro.bkt.clouddn.com/timg%20%281%29.gif" alt="超频散热" /></a>
            <h1><a href="/">Zia Yang</a></h1>
            <p>学习笔记</p>
            <div id="follow-icons">
          <a href="http://github.com/ze25800000"><i class="fa fa-github-square fa-2x"></i></a>
          <a href="http://twitter.com/YzzzzzzE"><i class="fa fa-twitter-square fa-2x"></i></a>
      </div>
<h6><a href="/about">About</a></h6>
        </header>

        <main id="content">
        

<article class="post">
  一月 1, 2017
  

  <h1 class="post-title">typescript学习笔记</h1>
  <section class="post-content article-entry">
    <h1 id="typescript"><a href="#typescript" class="headerlink" title="typescript"></a>typescript</h1><hr>
<p><code>$ tsc hello.ts</code>将hello.ts 转换为hello.js文件</p>
<h4 id="TypeScript字符串新特性"><a href="#TypeScript字符串新特性" class="headerlink" title="TypeScript字符串新特性"></a>TypeScript字符串新特性</h4><ul>
<li><p>var content = `aaa<br></p>
<pre><code>bbb&lt;br&gt;
ccc\`;&lt;br&gt;
</code></pre><p>换行的时候可以直接用回车<br></p>
</li>
<li>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var myname = &quot;yangze&quot;;</span><br><span class="line">var getName = function () &#123;</span><br><span class="line">    return &quot;yangze&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(`hello $&#123;myname&#125;`);</span><br><span class="line">console.log(`hello $&#123;getName()&#125;`);</span><br><span class="line">//拼接字符串不需要+&apos;&apos;+</span><br><span class="line">console.log(`&lt;div&gt;</span><br><span class="line">&lt;span&gt;$&#123;myname&#125;&lt;/span&gt;</span><br><span class="line">&lt;span&gt;$&#123;getName()&#125;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;`);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>自动拆分字符串</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function test(template,name,age)&#123;</span><br><span class="line">    console.log(template);</span><br><span class="line">    console.log(name);</span><br><span class="line">    console.log(age);</span><br><span class="line">&#125;</span><br><span class="line">var myname = &quot;yangze&quot;;</span><br><span class="line">var getAge = function () &#123;</span><br><span class="line">    return 28;</span><br><span class="line">&#125;;</span><br><span class="line">test`hello my name is $&#123;myname&#125;, i&apos;m $&#123;getAge()&#125; `;</span><br><span class="line">//返回结果</span><br><span class="line">Array[3]</span><br><span class="line">yangze</span><br><span class="line">28</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="参数类型"><a href="#参数类型" class="headerlink" title="参数类型"></a>参数类型</h4><ul>
<li><p>参数后面可以使用<code>:</code>来指定参数的类型<br><br><code>var myname: string = &quot;yangze&quot;;</code><br><br><code>var alias:any = &#39;xixi&#39;;</code><br><br><code>var age:number=12;</code><br><br><code>var man: boolean = true;</code><br><br><code>function test():void{//}如果使用void ,函数内不可以return</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function test(name:string):string&#123;</span><br><span class="line">    return &apos;string&apos;</span><br><span class="line">&#125;</span><br><span class="line">test(&apos;hello&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>自定义类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//自定义类型</span><br><span class="line">class Person&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br><span class="line">var zhangsan: Person = new Person();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="参数默认值"><a href="#参数默认值" class="headerlink" title="参数默认值"></a>参数默认值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var myname: string = &quot;yangze&quot;;</span><br><span class="line">function test(a:string,b:string,c:string)&#123;</span><br><span class="line">    console.log(a);</span><br><span class="line">    console.log(b);</span><br><span class="line">    console.log(c);</span><br><span class="line">&#125;</span><br><span class="line">test(&quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;);//如果参数不够会报错</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// var myname: string = &quot;yangze&quot;;</span><br><span class="line">function test(a:string,b:string,c:string=&quot;jojo&quot;)&#123;</span><br><span class="line">    console.log(a);</span><br><span class="line">    console.log(b);</span><br><span class="line">    console.log(c);</span><br><span class="line">&#125;</span><br><span class="line">test(&quot;xxx&quot;, &quot;yyy&quot;);//此时可以传两个参数,第三个参数取默认值jojo</span><br></pre></td></tr></table></figure>
<p><em>注意:带默认值得参数声明在最后面</em><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function test(a:string,b?:string,c:string=&quot;jojo&quot;)&#123;</span><br><span class="line">    console.log(a);</span><br><span class="line">    console.log(b);</span><br><span class="line">    console.log(c);</span><br><span class="line">&#125;</span><br><span class="line">test(&quot;xxx&quot;);//返回 xxx,undefined,jojo</span><br></pre></td></tr></table></figure></p>
<p><em>注意:问号不可以放在第一个参数</em></p>
<h4 id="TypeScript-Rest-and-Spread"><a href="#TypeScript-Rest-and-Spread" class="headerlink" title="TypeScript-Rest and Spread ..."></a>TypeScript-Rest and Spread <code>...</code></h4><p>用来声明任意数量的方法和参数</p>
<ul>
<li><p>参数任意</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function func1(...args)&#123;</span><br><span class="line">    args.forEach(function (arg) &#123;</span><br><span class="line">        console.log(arg);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">func1(1, 2, 3);</span><br><span class="line">func1(7, 8, 9, 10, 11);</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数固定</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function func1(a,b,c)&#123;</span><br><span class="line">    console.log(a);</span><br><span class="line">    console.log(b);</span><br><span class="line">    console.log(c);</span><br><span class="line">&#125;</span><br><span class="line">var args1 = [1, 2];</span><br><span class="line">func1(...args1);</span><br><span class="line">var args2 = [7, 8, 9, 10, 11];</span><br><span class="line">func1(...args2);</span><br><span class="line">/**</span><br><span class="line"> * 1</span><br><span class="line"> * 2</span><br><span class="line"> * undefined</span><br><span class="line"> * 7</span><br><span class="line"> * 8</span><br><span class="line"> * 9</span><br><span class="line"> * */</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="TypeScript-generator函数"><a href="#TypeScript-generator函数" class="headerlink" title="TypeScript-generator函数"></a>TypeScript-generator函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function* doSomething()&#123;</span><br><span class="line">    console.log(&quot;start&quot;);</span><br><span class="line">    yield;</span><br><span class="line">    console.log(&quot;finish&quot;);</span><br><span class="line">&#125;</span><br><span class="line">var func1 = doSomething();</span><br><span class="line">func1.next();//执行到yield停止,打印start</span><br><span class="line">func1.next();//finish</span><br></pre></td></tr></table></figure>
<p>demo<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function* getStockPrice(stock)&#123;</span><br><span class="line"> while(true)&#123;</span><br><span class="line">   yield Math.random()*100;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">var priceGenerator=getStockPrice(&quot;IBM&quot;);</span><br><span class="line">var limitPrice=15;</span><br><span class="line">var price=100;</span><br><span class="line">while(price&gt;limitPrice)&#123;</span><br><span class="line">price=priceGenerator.next().value;</span><br><span class="line">console.log(`the generator return $&#123;price&#125;`);</span><br><span class="line">&#125;</span><br><span class="line">console.log(`buying at $&#123;price&#125;`)</span><br></pre></td></tr></table></figure></p>
<h4 id="TypeScript-destructuring析构表达式"><a href="#TypeScript-destructuring析构表达式" class="headerlink" title="TypeScript-destructuring析构表达式"></a>TypeScript-destructuring析构表达式</h4><p>通过表达式将对象或数组拆解成任意数量的变量<br><br>在es5中:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function getStock()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        code: &quot;IBM&quot;,</span><br><span class="line">        price: 100</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">var stock = getStock();</span><br><span class="line">var code = stock.code;</span><br><span class="line">var price = stock.price;</span><br></pre></td></tr></table></figure></p>
<p>在TypeScript中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function getStock()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        code: &quot;IBM&quot;,</span><br><span class="line">        price: 100</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">var &#123;code , price&#125; = getStock();</span><br></pre></td></tr></table></figure></p>
<p><em>注意:名字要一致,也可以给对象属性起一个别名</em><br><br><code>var {code:codex , price} = getStock();</code><br><br>访问对象中的对象:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function getStock()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        code: &quot;IBM&quot;,</span><br><span class="line">        price: &#123;</span><br><span class="line">            price1: 100,</span><br><span class="line">            price2:200</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">var &#123;code , price:&#123;price1&#125;&#125; = getStock();</span><br></pre></td></tr></table></figure></p>
<p>以上为针对对象的析构表达式,一下是针对数组的析构表达式:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1, 2, 3, 4];</span><br><span class="line">var [number1, number2] = arr;//1,2</span><br><span class="line">var [ , ,number1, number2] = arr;//3,4</span><br><span class="line">var [number1, , , number2] = arr;//1,4</span><br><span class="line">var [number1 , number2 , ...others] = arr;//1,2,[3,4]</span><br></pre></td></tr></table></figure></p>
<p>在函数中的调用:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1, 2, 3, 4];</span><br><span class="line">function doSomething([number1, number2, ...others]) &#123;</span><br><span class="line">    console.log(number1);</span><br><span class="line">    console.log(number2);</span><br><span class="line">    console.log(others);</span><br><span class="line">&#125;</span><br><span class="line">doSomething(arr);</span><br></pre></td></tr></table></figure></p>
<h4 id="箭头表达式"><a href="#箭头表达式" class="headerlink" title="箭头表达式"></a>箭头表达式</h4><p>用来声明匿名函数,消除传统匿名函数的this指针问题<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//单行写法:</span><br><span class="line">var sum = (arg1, arg2) =&gt; arg1 + arg2;</span><br><span class="line">//多行写法:</span><br><span class="line">var sum = (arg1, arg2) =&gt; &#123;</span><br><span class="line">    return arg1 + arg2</span><br><span class="line">&#125;;</span><br><span class="line">//只有一个参数的写法:</span><br><span class="line">var sum = arg =&gt; &#123;</span><br><span class="line">    console.log(arg)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>箭头表达式用于匿名函数:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1, 2, 3, 4];</span><br><span class="line">console.log(arr.filter(value =&gt; value%2 == 0)); //[2 , 4]</span><br></pre></td></tr></table></figure></p>
<p>箭头函数消除传统匿名函数this的指针问题:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function Stock(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    setInterval(() =&gt; &#123;</span><br><span class="line">        console.log(this.name);//hehehe</span><br><span class="line">    &#125;,1000)</span><br><span class="line">&#125;</span><br><span class="line">var a = new Stock(&apos;hehehe&apos;)</span><br></pre></td></tr></table></figure></p>
<h4 id="TypeScript-for-of循环"><a href="#TypeScript-for-of循环" class="headerlink" title="TypeScript-for of循环"></a>TypeScript-for of循环</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1, 2, 3, 4, 5];</span><br><span class="line">arr.desc = &apos;hello&apos;;</span><br><span class="line">arr.forEach(value=&gt;console.log(value))</span><br></pre></td></tr></table></figure>
<p>forEach会忽略掉属性desc,并且不能使用break<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1, 2, 3, 4, 5];</span><br><span class="line">arr.desc = &apos;hello&apos;;</span><br><span class="line">for (var i in arr) &#123;</span><br><span class="line">    console.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>for in 遍历属性的名字,包括desc<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1, 2, 3, 4, 5];</span><br><span class="line">arr.desc = &apos;hello&apos;;</span><br><span class="line">for (var i of arr) &#123;</span><br><span class="line">    console.log(i)</span><br><span class="line">&#125;</span><br><span class="line">/***********************/</span><br><span class="line">for (var i of &apos;hello world&apos;) &#123;</span><br><span class="line">    console.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>for of 会忽略掉desc这个属性,这个循环可以被break打断,还可以将字符串的每个字符打印</p>
<h3 id="TypeScript面向对象特效"><a href="#TypeScript面向对象特效" class="headerlink" title="TypeScript面向对象特效"></a>TypeScript面向对象特效</h3><h4 id="TypeScript-类"><a href="#TypeScript-类" class="headerlink" title="TypeScript-类"></a>TypeScript-类</h4><p>类是TypeScript的核心,使用TypeScript时,大部分代码都是写在类里面的.<br><br><code>class Person{}</code>声明一个类,可以指定属性,和类的方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">    private name;</span><br><span class="line">    eat() &#123;</span><br><span class="line">        console.log(&quot;i&apos;m eatting&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var p1 = new Person();</span><br><span class="line">p1.name = &apos;batman&apos;;</span><br><span class="line">p1.eat();</span><br><span class="line">var p2 = new Person();</span><br><span class="line">p2.name = &apos;superman&apos;;</span><br><span class="line">p2.eat();</span><br></pre></td></tr></table></figure></p>
<p>属性模式是公共的方法public,可以指定private来指定私有的方法,这样在类的外部无法访问到私有的属性,只能在类的内部访问.也可以指定protected,这样可以在类的内部,和类的子类(继承)中可以访问到,在外部不可以访问.</p>
<h6 id="类的构造函数constructor"><a href="#类的构造函数constructor" class="headerlink" title="类的构造函数constructor"></a>类的构造函数<code>constructor</code></h6><p>在类实例化的时候可以被调用,在外部不可以访问constructor这个方法,只有在实例化new时会被调用.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">    constructor()&#123;</span><br><span class="line">        console.log(&quot;haha&quot;);//被实例化两次,打印两次haha</span><br><span class="line">    &#125;</span><br><span class="line">    private name;</span><br><span class="line">    eat() &#123;</span><br><span class="line">        console.log(&quot;i&apos;m eatting&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var p1 = new Person();</span><br><span class="line">p1.name = &apos;batman&apos;;</span><br><span class="line">p1.eat();</span><br><span class="line">var p2 = new Person();</span><br><span class="line">p2.name = &apos;superman&apos;;</span><br><span class="line">p2.eat();</span><br></pre></td></tr></table></figure></p>
<p>给constructor传递参数后,实例化的时候必须传参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">    name;</span><br><span class="line">    constructor(name:string)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    eat() &#123;</span><br><span class="line">        console.log(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var p1 = new Person(&apos;batman&apos;);</span><br><span class="line">p1.eat();</span><br><span class="line">var p2 = new Person(&apos;superman&apos;);</span><br><span class="line">p2.eat();</span><br></pre></td></tr></table></figure></p>
<p>上面的name,可以简写到constructor里,但是要明确声明访问控制符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">    constructor(public name:string)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">        eat() &#123;</span><br><span class="line">        console.log(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var p1 = new Person(&apos;batman&apos;);</span><br><span class="line">p1.eat();</span><br><span class="line">var p2 = new Person(&apos;superman&apos;);</span><br><span class="line">p2.eat();</span><br></pre></td></tr></table></figure></p>
<h6 id="类的继承extends、super"><a href="#类的继承extends、super" class="headerlink" title="类的继承extends、super"></a>类的继承<code>extends</code>、<code>super</code></h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">    constructor(public name:string)&#123;</span><br><span class="line">        console.log(&quot;haha&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">        eat() &#123;</span><br><span class="line">        console.log(this.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Employee extends Person &#123;</span><br><span class="line">    code: string;</span><br><span class="line">    work() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var e1 = new Employee(&quot;name&quot;);</span><br><span class="line">var p1 = new Person(&apos;batman&apos;);</span><br><span class="line">p1.eat();</span><br><span class="line">var p2 = new Person(&apos;superman&apos;);</span><br><span class="line">p2.eat();</span><br></pre></td></tr></table></figure>
<p>super的用法:<br></p>
<ol>
<li>调用父类的构造函数,子类的构造函数必须要调用父类的构造函数(规定)</li>
<li>调用父类的其他方法</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">    constructor(public name:string)&#123;</span><br><span class="line">        console.log(&quot;haha&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">        eat() &#123;</span><br><span class="line">        console.log(&quot;I&apos;m eating&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Employee extends Person &#123;</span><br><span class="line">    constructor(name: string, code: string) &#123;</span><br><span class="line">        super(name);</span><br><span class="line">        console.log(&quot;xixi&quot;);</span><br><span class="line">        this.code = code;</span><br><span class="line">    &#125;</span><br><span class="line">    code: string;</span><br><span class="line">    work() &#123;</span><br><span class="line">        super.eat();</span><br><span class="line">        this.doWork();</span><br><span class="line">    &#125;</span><br><span class="line">    private doWork() &#123;</span><br><span class="line">        console.log(&quot;I&apos;m working&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var e1 = new Employee(&quot;name&quot;, &quot;12&quot;);</span><br><span class="line">e1.work();</span><br><span class="line">//e1.无法调用doWork()</span><br></pre></td></tr></table></figure>
<h4 id="TypeScript-泛型generic"><a href="#TypeScript-泛型generic" class="headerlink" title="TypeScript-泛型generic"></a>TypeScript-泛型<code>generic</code></h4><p>用来限制集合的类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class Person&#123;</span><br><span class="line">    constructor(public name:string)&#123;</span><br><span class="line">        console.log(&quot;haha&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">        eat() &#123;</span><br><span class="line">        console.log(&quot;I&apos;m eating&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Employee extends Person &#123;</span><br><span class="line">    constructor(name: string, code: string) &#123;</span><br><span class="line">        super(name);</span><br><span class="line">        console.log(&quot;xixi&quot;);</span><br><span class="line">        this.code = code;</span><br><span class="line">    &#125;</span><br><span class="line">    code: string;</span><br><span class="line">    work() &#123;</span><br><span class="line">        super.eat();</span><br><span class="line">        this.doWork();</span><br><span class="line">    &#125;</span><br><span class="line">    private doWork() &#123;</span><br><span class="line">        console.log(&quot;I&apos;m working&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var workers: Array&lt;Person&gt; = [];</span><br><span class="line">workers[0] = new Person(&quot;zhangsan&quot;);</span><br><span class="line">workers[1] = new Employee(&quot;lisi&quot;, &quot;2&quot;);</span><br><span class="line">workers[2] = &quot;12&quot;//报错</span><br><span class="line"></span><br><span class="line">var e1 = new Employee(&quot;name&quot;, &quot;12&quot;);</span><br></pre></td></tr></table></figure></p>
<p>先给workers指定一个类型Array,Person就是数组Array的泛型,数组中只能放Person类型的数据,Employee继承自Person</p>
<h4 id="TypeScript-接口Interface"><a href="#TypeScript-接口Interface" class="headerlink" title="TypeScript-接口Interface"></a>TypeScript-接口<code>Interface</code></h4><p>用来建立代码约定,使得其它开发者在调用摸个方法或创建新的类时必须遵循接口所定义的代码约定</p>
<ul>
<li><p>使用interface声明属性</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">interface IPerson&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br><span class="line">class Person&#123;</span><br><span class="line">    constructor(public config: IPerson) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var p1 = new Person(&#123;</span><br><span class="line">    name: &apos;heloo&apos;,</span><br><span class="line">    age:18,</span><br><span class="line">    xxx:123//如果多传了属性,报错</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用interface声明方法,然后是用implement实现接口,所有类必须实现接口里的方法</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">interface Animal&#123;</span><br><span class="line">    eat();</span><br><span class="line">&#125;</span><br><span class="line">class Sheep implements Animal&#123;</span><br><span class="line">    eat() &#123;</span><br><span class="line">        console.log(&quot;I eat grass&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Tiger implements Animal&#123;</span><br><span class="line">    eat() &#123;</span><br><span class="line">        console.log(&quot;I eat meat&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="TypeScript-模块Module"><a href="#TypeScript-模块Module" class="headerlink" title="TypeScript-模块Module"></a>TypeScript-模块<code>Module</code></h4><ul>
<li><p>模块可以帮助开发者将代码分割为可重用的单元.开发者可以自己决定模块中的那些资源(类,方法,变量)暴露出去共外部使用,那些资源只在模块内使用.</p>
</li>
<li><p>使用export暴露属性方法和类,使用import引入属性方法和类</p>
</li>
<li>每个模块既可以export也可以import<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//模块a:</span><br><span class="line">export var prop1;</span><br><span class="line">var prop2;</span><br><span class="line">export function func1()&#123;&#125;</span><br><span class="line">function func2()&#123;&#125;</span><br><span class="line">export class Clazz1()&#123;&#125;</span><br><span class="line">class Clazz2()&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//模块b</span><br><span class="line">import &#123;prop1, func1, Clazz1&#125; from &quot;./a&quot;;</span><br><span class="line">console.log(prop1);</span><br><span class="line">func1();</span><br><span class="line">new Clazz1&#123;&#125;</span><br><span class="line">export function func3()&#123;&#125;</span><br></pre></td></tr></table></figure>

  </section>
  <footer class="post-footer">
    <!--
    <section class="author">
      <h4>Zia Yang</h4>
      <p></p>
    </section>
    -->
  </footer>
</article>

<nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/2017/01/03/JavaScript语言精粹/">
        ← prev <!--JavaScript语言精粹-->
    </a>
    
    <span class="page-number">•</span>
    
</nav>


        </main>
        <footer id="footer">
            <section id="footer-message">&copy; 2018 Zia Yang. All rights reserved. Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. <a href="https://github.com/guolin/crisp-hexo-theme" target="_blank">crisp</a> theme by <a href="guolin.github.io" target="_blank">Guo Lin</a>.</section>
        </footer>
    </body>
</html>


